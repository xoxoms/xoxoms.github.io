
---
layout: post
title: About JPA (1)
---
Why use JPA?

-------------

## 영속성 프레임워크

영속성(Persistence)은 데이터가 프로세스 내에서 생성됐지만 프로세스의 생명주기와 별개로 유지되는 특성으로 파일이나 데이터베이스 같은 기억 장치에 데이터를 보존하는 것으로 실현한다.

프로그램 언어 측면에서 데이터를 영속시키는 방법은 다양한데 자바 진영에서는 SQL Mapper와 ORM 같은 기술을 이용한 영속성 프레임워크를 주로 사용한다. 

SQL Mapper는 객체와 sql을 매핑하는 데이터 중심 기술로 iBatis와 MyBatis가 있고, ORM은 객체와 테이블 간의 관계를 매핑하는 객체 중심 기술로 JPA를 구현한 하이버네이트와 eclipseLink 등이 있다. 아래는 MyBatis, JPA를 비교한 내용이다.

#### * MyBatis와 JPA의 기회비용 및 성능비교
![architecture](http://xoxoms.github.io/images/3/1.png)
![architecture](http://xoxoms.github.io/images/3/2.png)

이처럼 MyBatis와 JPA는 장단이 명확한데, 우리는 객체 지향 언어인 자바를 사용하는 개발자이니까 "Work in Object centric" 관점에서 두 기술의 차이점을 알아보자

## SQL 중심 기술과 객체 중심 기술의 비교

---

#### * 비지니스 요구사항
    1. 회원을 관리할 수 있는 시스템 구축
    2. 회원은 이름과 나이 정보를 갖는다.   

#### * 회원 Class
```java
@Getter
@Setter
public class User {
    private String name;
    private int age;
}
```

#### * 구조

![architecture](http://xoxoms.github.io/images/3/0.png)

위 그림은 Spring framework를 사용할 경우 볼수있는 일반적인 구조인데 Controller, Service, Repository 까지는 비슷한 역할을 하므로 예제에서는 영속성을 주입하는 Repository부터 xml과 EntityManager의 차이 정도만 다루겠다.

추가로 앞으로 나올 설명과 이해를 돕기 위해 Repository의 메소드가 호출되면 MyBatis는 호출된 메소드와 매핑되는 xml 쿼리문이 실행되고 JPA는 EntityManager가 호출된 메소드에 맞는 후처리를 한다고 생각하자.

#### 

#### 1. 삽입

* MyBatis

``` java
// Service로 부터 Repository의 insert메소드가 호출되었다. Member.xml의 insert가 호출된다.


```

    

## 데이터 중심 모델링이란?



## 객체 지향 모델링이란?

## 패러다임 불일치

## JPA 소개

